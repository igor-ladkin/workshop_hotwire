<%# locals: (artist:, tracks:, current_page: 0, next_page: nil) -%>
<%= turbo_frame_tag dom_id(artist, "tracks_page_#{current_page}") do %>
  <% tracks.each.with_index do |track, i| %>
    <%=
      render track,
        enqueueble: true,
        track_counter: (current_page - 1) * 10 + i
    %>
  <% end %>

  <% unless next_page.nil? %>
    <%= turbo_frame_tag dom_id(artist, "tracks_page_#{next_page}"), src: artist_tracks_path(artist, page: next_page), loading: :lazy %>
  <% end %>
<% end %>
